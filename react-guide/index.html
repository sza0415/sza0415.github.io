<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>React入门 | Ziang Sun's Blog</title><meta name="author" content="Ziang Sun"><meta name="copyright" content="Ziang Sun"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="JSXJSX是JavaScript和XML（HTML）的缩写，表示在JS代码中编写HTML模版结构，它是React编写UI的方式。   JSX并不是标准的JS语法，它是JS的语法扩展，浏览器本身不能识别，需要通过解析工具做解析之后才能在浏览器中运行。 在JSX中可以通过大括号语法{}识别JavaScript中的表达式，比如常见的变量，方法的调用等。 123456789101112131415161">
<meta property="og:type" content="article">
<meta property="og:title" content="React入门">
<meta property="og:url" content="https://sza0415.github.io/react-guide/index.html">
<meta property="og:site_name" content="Ziang Sun&#39;s Blog">
<meta property="og:description" content="JSXJSX是JavaScript和XML（HTML）的缩写，表示在JS代码中编写HTML模版结构，它是React编写UI的方式。   JSX并不是标准的JS语法，它是JS的语法扩展，浏览器本身不能识别，需要通过解析工具做解析之后才能在浏览器中运行。 在JSX中可以通过大括号语法{}识别JavaScript中的表达式，比如常见的变量，方法的调用等。 123456789101112131415161">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://sza0415.github.io/img/image1.png">
<meta property="article:published_time" content="2024-11-04T07:45:19.239Z">
<meta property="article:modified_time" content="2024-11-22T06:18:03.583Z">
<meta property="article:author" content="Ziang Sun">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://sza0415.github.io/img/image1.png"><link rel="shortcut icon" href="/img/image1.png"><link rel="canonical" href="https://sza0415.github.io/react-guide/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":3,"unescape":false,"languages":{"hits_empty":"No results found for: ${query}","hits_stats":"${hits} articles found"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'React入门',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  isShuoshuo: false
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/image1.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">16</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">1</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-book"></i><span> 文章</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/contact/"><i class="fa-fw fas fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/img/image1.png" alt="Logo"><span class="site-name">Ziang Sun's Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">React入门</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-book"></i><span> 文章</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/contact/"><i class="fa-fw fas fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">React入门</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2024-11-04T07:45:19.239Z" title="Created 2024-11-04 15:45:19">2024-11-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2024-11-22T06:18:03.583Z" title="Updated 2024-11-22 14:18:03">2024-11-22</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word Count:</span><span class="word-count">5.9k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading Time:</span><span>25mins</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="JSX"><a href="#JSX" class="headerlink" title="JSX"></a>JSX</h1><p>JSX是JavaScript和XML（HTML）的缩写，表示在<font color="red">JS代码中编写HTML模版结构</font>，它是React编写UI的方式。</p>


<p>JSX并不是标准的JS语法，它是JS的语法扩展，浏览器本身不能识别，需要通过解析工具做解析之后才能在浏览器中运行。</p>
<p>在JSX中可以通过<font color="red">大括号语法{}</font>识别JavaScript中的表达式，比如常见的变量，方法的调用等。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  项目的根组件</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> num = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">func1</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;func1&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>  =<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      this is react App</span></span><br><span class="line"><span class="language-xml">      &#123;/* 1.使用引号传递字符串 */&#125;</span></span><br><span class="line"><span class="language-xml">      &#123;&#x27;this is message&#x27;&#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      &#123;/* 2.识别JavaScript变量 */&#125;</span></span><br><span class="line"><span class="language-xml">      &#123;num&#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      &#123;/* 3.函数调用/方法调用 */&#125;</span></span><br><span class="line"><span class="language-xml">      &#123;func1()&#125;</span></span><br><span class="line"><span class="language-xml">      &#123;new Date().getDate()&#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      &#123;/* 4.使用js对象 */&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&#123;&#123;color:</span>&#x27;<span class="attr">red</span>&#x27;&#125;&#125;&gt;</span> this is div <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<p>注意：if语句、switch语句、变量声明属于语句，不是表达式，不能出现在{}中。</p>
<h2 id="JSX实现列表渲染"><a href="#JSX实现列表渲染" class="headerlink" title="JSX实现列表渲染"></a>JSX实现列表渲染</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  项目的根组件</span></span><br><span class="line"><span class="keyword">const</span> list1 = [</span><br><span class="line">  &#123;<span class="attr">id</span>:<span class="number">1001</span>,<span class="attr">name</span>:<span class="string">&#x27;sza&#x27;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">id</span>:<span class="number">1002</span>,<span class="attr">name</span>:<span class="string">&#x27;myx&#x27;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">id</span>:<span class="number">1003</span>,<span class="attr">name</span>:<span class="string">&#x27;mjm&#x27;</span>&#125;</span><br><span class="line">];</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>  =<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      this is react App</span></span><br><span class="line"><span class="language-xml">      &#123;/* 渲染列表 */&#125;</span></span><br><span class="line"><span class="language-xml">      &#123;/* 数组映射（.map()方法）：list1.map(item =&gt;...) 对数组 list1 中的每个元素执行一个回调函数 */&#125;</span></span><br><span class="line"><span class="language-xml">      &#123;/* 对于 list1 中的每个 item（对象），回调函数会返回一个 JSX 元素 */&#125;</span></span><br><span class="line"><span class="language-xml">      &#123;/* 注意：在 React 中，当渲染列表时，</span></span><br><span class="line"><span class="language-xml">      为每个列表项设置一个唯一的 key 属性是很重要的，它有助于 React 更高效地更新和渲染列表。 */&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;list1.map(item =&gt; <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;item.id&#125;</span>&gt;</span> &#123;item.name&#125; <span class="tag">&lt;/<span class="name">li</span>&gt;</span>)&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<h2 id="JSX实现条件渲染"><a href="#JSX实现条件渲染" class="headerlink" title="JSX实现条件渲染"></a>JSX实现条件渲染</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  项目的根组件</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> isLogin = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>  =<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      &#123;/* 逻辑与 &amp;&amp;  */&#125;</span></span><br><span class="line"><span class="language-xml">      &#123;isLogin &amp;&amp; <span class="tag">&lt;<span class="name">span</span>&gt;</span>Welcome xxx!<span class="tag">&lt;/<span class="name">span</span>&gt;</span>&#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      &#123;/* 三元运算 */&#125;</span></span><br><span class="line"><span class="language-xml">      &#123;isLogin ? <span class="tag">&lt;<span class="name">span</span>&gt;</span>Welcome xxx!<span class="tag">&lt;/<span class="name">span</span>&gt;</span> : <span class="tag">&lt;<span class="name">span</span>&gt;</span>Error!<span class="tag">&lt;/<span class="name">span</span>&gt;</span>&#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br></pre></td></tr></table></figure>

<p>复杂条件渲染，自定义函数+条件语句：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  项目的根组件</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 文章列表 分为 无图、单图以及多图 =&gt; 0 1 2</span></span><br><span class="line"><span class="keyword">const</span> articleType = <span class="number">0</span>; </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">func</span>(<span class="params">articleType</span>)&#123;</span><br><span class="line">  <span class="keyword">if</span> (articleType === <span class="number">0</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>无图文章<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span>;</span><br><span class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span> (articleType === <span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>单图文章<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span>;</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>多图文章<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>  =<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      &#123;func(articleType)&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br></pre></td></tr></table></figure>

<h3 id="React事件绑定"><a href="#React事件绑定" class="headerlink" title="React事件绑定"></a>React事件绑定</h3><p>基础事件绑定，语法：on + 事件名称 &#x3D; {事件处理程序}</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  项目的根组件</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">handleClick</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;被点击了&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>  =<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;handleClick&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br></pre></td></tr></table></figure>

<p>使用事件对象参数，将事件对象作为实参传入</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  项目的根组件</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">handleClick</span> = (<span class="params">e</span>)=&gt;&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;被点击了&quot;</span>,e);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>  =<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;handleClick&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br></pre></td></tr></table></figure>



<p>传递自定义参数，语法：事件绑定的位置改造成<font color="red">箭头函数的写法</font>，在执行handleClick实际业务函数的时候传递实参。注意：不能直接写成函数调用，因为这里的事件绑定需要的是一个<font color="red">函数引用!</font>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  项目的根组件</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">handleClick</span> = (<span class="params">name</span>)=&gt;&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;被点击了&quot;</span>,name);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>  =<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> handleClick(&quot;jack&quot;)&#125; &gt;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br></pre></td></tr></table></figure>

<p>如果写成：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;button onClick=&#123;<span class="title function_">handleClick</span>(<span class="string">&quot;jack&quot;</span>)&#125; &gt;&lt;/button&gt;</span><br></pre></td></tr></table></figure>

<p>在这种方式下，<code>handleClick(&quot;jack&quot;)</code>会在组件渲染时立即被调用，而不是在按钮被点击时调用。</p>
<p>传递事件对象参数以及自定义参数：</p>
<p>语法，在事件绑定的位置传递事件实参e和自定义参数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  项目的根组件</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">handleClick</span> = (<span class="params">name,e</span>)=&gt;&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;被点击了&quot;</span>,name,e);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> name1 = <span class="string">&#x27;sza&#x27;</span>;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>  =<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> handleClick(name1,e)&#125; &gt;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br></pre></td></tr></table></figure>

<h2 id="React组件"><a href="#React组件" class="headerlink" title="React组件"></a>React组件</h2><p>一个组件就是用户界面的一部分，它可以有自己的逻辑和外观，组件之间可以互相嵌套，也可以复用多次。</p>
<p>组件化开发可以让开发者像搭积木一样构建一个完整的庞大的应用。</p>
<p>在React中，一个组件就是<font color="red">首字母大写的函数</font>，内部存放了组件的逻辑和视图UI，渲染组件只需要把组件当成标签书写即可。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  项目的根组件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 自定义组件</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Button</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="comment">//组件内部逻辑</span></span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">button</span>&gt;</span> click me!<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>  =<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      &#123;/* 自闭合使用自定义组件 */&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Button</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      &#123;/* 成对标签 使用自定义组件 */&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Button</span>&gt;</span><span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      </span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br></pre></td></tr></table></figure>

<h2 id="useState基础使用"><a href="#useState基础使用" class="headerlink" title="useState基础使用"></a>useState基础使用</h2><p>useState是一个React Hook函数，它允许我们向组件添加一个<font color="red">状态变量</font>，从而控制影响组件的渲染结果</p>
<p>本质：和普通JS变量不同的是，状态变量一旦发生变化，组件的视图UI也会跟着变化（<font color="red">数据驱动视图</font>）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  项目的根组件</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;useState&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 1. useState是一个函数，返回值是一个数组</span></span><br><span class="line">  <span class="comment">// 2. 数组中的第一个参数是状态变量，第二个参数是set函数用来修改状态变量</span></span><br><span class="line">  <span class="comment">// 3. useState的参数将作为count的初始值</span></span><br><span class="line">  <span class="keyword">const</span> [count , setCount] = <span class="title function_">useState</span>(<span class="number">0</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 点击事件回调</span></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">handleClick</span> = (<span class="params"></span>) =&gt;&#123;</span><br><span class="line">    <span class="comment">// 作用：1. 用新传入的数值修改count</span></span><br><span class="line">    <span class="comment">//  2。重新使用新的count渲染UI</span></span><br><span class="line">    <span class="title function_">setCount</span>(count + <span class="number">1</span>);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>  =<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;handleClick&#125;</span>&gt;</span>&#123;count&#125;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      </span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br></pre></td></tr></table></figure>

<p>useState的状态变量不可变：</p>
<p>在React中，状态被认为是只读的，我们应该始终替换它而不是修改它，直接修改状态变量，不能够引发试图更新</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">handleClick</span> = (<span class="params"></span>) =&gt;&#123;</span><br><span class="line">  <span class="comment">// 作用：1. 用新传入的数值修改count</span></span><br><span class="line">  <span class="comment">//  2。重新使用新的count渲染UI</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 这里直接对count进行修改 无法引发视图更新</span></span><br><span class="line">  count++;</span><br><span class="line">  <span class="comment">// setCount(count + 1);</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>修改复杂对象状态：</p>
<p>对于对象类型的状态变量，应该始终传给set方法一个<font color="red">全新的对象</font>来进行修改。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  项目的根组件</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;useState&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> [form,setForm] = <span class="title function_">useState</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;jack&#x27;</span>&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// &#123;...form, name: &#x27;sza&#x27; &#125;使用了扩展运算符（...）来复制现有的form对象，</span></span><br><span class="line">  <span class="comment">// 并在新对象中更新name属性为sza</span></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">handleClick</span> = (<span class="params"></span>) =&gt;&#123;</span><br><span class="line">    <span class="title function_">setForm</span>(&#123;</span><br><span class="line">      ...form,</span><br><span class="line">      <span class="attr">name</span>:<span class="string">&#x27;sza&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>  =<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;handleClick&#125;</span>&gt;</span>&#123;form.name&#125;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      </span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br></pre></td></tr></table></figure>

<h2 id="基础样式控制"><a href="#基础样式控制" class="headerlink" title="基础样式控制"></a>基础样式控制</h2><p>行内样式（不推荐）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  项目的根组件</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>  =<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&#123;&#123;color:</span>&#x27;<span class="attr">red</span>&#x27;,<span class="attr">fontSize:</span>&#x27;<span class="attr">50px</span>&#x27;&#125;&#125;&gt;</span>行内样式1<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      </span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  项目的根组件</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> style1 = &#123;</span><br><span class="line">  <span class="attr">color</span>:<span class="string">&#x27;red&#x27;</span>,</span><br><span class="line">  <span class="attr">fontSize</span>:<span class="string">&#x27;30px&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>  =<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&#123;style1&#125;</span>&gt;</span>行内样式2<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    </span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br></pre></td></tr></table></figure>

<p>class类名控制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* index.css */</span></span><br><span class="line">.<span class="property">foo</span>&#123;</span><br><span class="line">    <span class="attr">color</span>:red;</span><br><span class="line">    font-<span class="attr">size</span>:16px</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  项目的根组件</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./index.css&#x27;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>  =<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">className</span>=<span class="string">&#x27;foo&#x27;</span>&gt;</span>行内样式2<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    </span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br></pre></td></tr></table></figure>

<h1 id="Day1-评论案例"><a href="#Day1-评论案例" class="headerlink" title="Day1 评论案例"></a>Day1 评论案例</h1><p>评论列表数据和当前登录用户数据</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 评论列表数据</span></span><br><span class="line"><span class="keyword">const</span> defaultList = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">rpid</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="attr">user</span>: &#123;</span><br><span class="line">      <span class="attr">uid</span>: <span class="string">&#x27;13258165&#x27;</span>,</span><br><span class="line">      <span class="attr">avatar</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="attr">uname</span>: <span class="string">&#x27;周杰伦&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">content</span>: <span class="string">&#x27;哎哟，不错哦&#x27;</span>,</span><br><span class="line">    <span class="attr">ctime</span>: <span class="string">&#x27;10-18 08:15&#x27;</span>,</span><br><span class="line">    <span class="attr">like</span>: <span class="number">89</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">rpid</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">user</span>: &#123;</span><br><span class="line">      <span class="attr">uid</span>: <span class="string">&#x27;36080105&#x27;</span>,</span><br><span class="line">      <span class="attr">avatar</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="attr">uname</span>: <span class="string">&#x27;许嵩&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">content</span>: <span class="string">&#x27;我寻你千百度 日出到迟暮&#x27;</span>,</span><br><span class="line">    <span class="attr">ctime</span>: <span class="string">&#x27;11-13 11:29&#x27;</span>,</span><br><span class="line">    <span class="attr">like</span>: <span class="number">88</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">rpid</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">user</span>: &#123;</span><br><span class="line">      <span class="attr">uid</span>: <span class="string">&#x27;30009257&#x27;</span>,</span><br><span class="line">      avatar,</span><br><span class="line">      <span class="attr">uname</span>: <span class="string">&#x27;前端&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">content</span>: <span class="string">&#x27;学前端就&#x27;</span>,</span><br><span class="line">    <span class="attr">ctime</span>: <span class="string">&#x27;10-19 09:00&#x27;</span>,</span><br><span class="line">    <span class="attr">like</span>: <span class="number">66</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br><span class="line"><span class="comment">// 当前登录用户信息</span></span><br><span class="line"><span class="keyword">const</span> loginUser = &#123;</span><br><span class="line">  <span class="comment">// 用户id</span></span><br><span class="line">  <span class="attr">uid</span>: <span class="string">&#x27;30009257&#x27;</span>,</span><br><span class="line">  <span class="comment">// 用户头像</span></span><br><span class="line">  avatar,</span><br><span class="line">  <span class="comment">// 用户昵称</span></span><br><span class="line">  <span class="attr">uname</span>: <span class="string">&#x27;黑马前端&#x27;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="渲染评论列表"><a href="#渲染评论列表" class="headerlink" title="渲染评论列表"></a>渲染评论列表</h2><p>核心思路：</p>
<ul>
<li>使用useState维护评论列表</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 使用useState维护屏幕列表</span></span><br><span class="line"><span class="keyword">const</span> [commentList , setContentList] = <span class="title function_">useState</span>(defaultList)</span><br></pre></td></tr></table></figure>

<ul>
<li>使用<font color="yellow">map方法</font>对列表数据进行遍历渲染（别忘了加key）</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="comment">/* 评论项 */</span>&#125;  </span><br><span class="line">&#123;<span class="comment">/* 2. 使用map方法对数据列表进行遍历渲染 */</span>&#125;</span><br><span class="line">&#123;commentList.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> (</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;reply-item&quot;</span> <span class="attr">key</span>=<span class="string">&#123;item.rpid&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    &#123;/* 头像 */&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;root-reply-avatar&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;bili-avatar&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">className</span>=<span class="string">&quot;bili-avatar-img&quot;</span> <span class="attr">src</span>=<span class="string">&#123;item.user.avatar&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;content-wrap&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;user-info&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;user-name&quot;</span>&gt;</span>&#123;item.user.uname&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;root-reply&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">className</span>=<span class="string">&quot;reply-content&quot;</span>&gt;</span>&#123;item.content&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;reply-info&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">span</span> <span class="attr">className</span>=<span class="string">&quot;reply-time&quot;</span>&gt;</span>&#123;item.ctime&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">span</span> <span class="attr">className</span>=<span class="string">&quot;reply-time&quot;</span>&gt;</span>点赞数:&#123;item.like&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  </span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  </span><br><span class="line">))&#125;</span><br></pre></td></tr></table></figure>

<h2 id="实现评论删除"><a href="#实现评论删除" class="headerlink" title="实现评论删除"></a>实现评论删除</h2><p>需求：</p>
<ol>
<li>只有自己的评论才可以显示删除按钮</li>
<li>点击删除按钮，删除当前评论，列表中不再显示</li>
</ol>
<p>核心思路</p>
<ul>
<li>删除显示 &#x3D;&gt; 条件渲染</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;item.<span class="property">user</span>.<span class="property">uid</span> === loginUser.<span class="property">uid</span> &amp;&amp; (</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">className</span>=<span class="string">&#x27;delete-btn&#x27;</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">)&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>删除功能 &#x3D;&gt; 拿到当前项id，以id为条件对评论列表做filter过滤</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;item.<span class="property">user</span>.<span class="property">uid</span> === loginUser.<span class="property">uid</span> &amp;&amp; (</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">className</span>=<span class="string">&#x27;delete-btn&#x27;</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span>=&gt;</span>handleDel(item.user.uid)&#125;&gt;删除<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">)&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [commentList , setContentList] = <span class="title function_">useState</span>(defaultList)  </span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleDel</span> = (<span class="params">user_id</span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// 对commentList做过滤处理</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    filter()方法的作用：</span></span><br><span class="line"><span class="comment">    在 JavaScript 中，数组的filter()方法用于创建一个新数组，</span></span><br><span class="line"><span class="comment">    这个新数组包含通过给定函数测试的原始数组中的所有元素。</span></span><br><span class="line"><span class="comment">    它会遍历原始数组中的每一个元素，并将每个元素传入提供的函数进行判断。</span></span><br><span class="line"><span class="comment">    如果函数返回true，则该元素会被包含在新数组中；如果返回false，则该元素会被排除。</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="title function_">setContentList</span>(commentList.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">user</span>.<span class="property">uid</span>!==user_id))</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h2 id="渲染Tab-点击高亮实现"><a href="#渲染Tab-点击高亮实现" class="headerlink" title="渲染Tab + 点击高亮实现"></a>渲染Tab + 点击高亮实现</h2><p>需求：点击哪个tab项，哪个做高亮处理</p>
<p>核心思路：</p>
<p>点击谁，就把谁的type(你也可以取名其他的，独一无二的标识)记录下来，然后和遍历时的每一项type做匹配，谁匹配到就设置负责高亮的类名</p>
<ul>
<li>准备一个Tab数组</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导航 Tab 数组</span></span><br><span class="line"><span class="keyword">const</span> tabs = [</span><br><span class="line">  &#123; <span class="attr">type</span>: <span class="string">&#x27;hot&#x27;</span>, <span class="attr">text</span>: <span class="string">&#x27;最热&#x27;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">type</span>: <span class="string">&#x27;time&#x27;</span>, <span class="attr">text</span>: <span class="string">&#x27;最新&#x27;</span> &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<ul>
<li>使用map方法对tab数组进行遍历渲染</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="comment">/* 导航 Tab */</span>&#125;</span><br><span class="line">&lt;div className=<span class="string">&quot;reply-navigation&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">className</span>=<span class="string">&quot;nav-bar&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">className</span>=<span class="string">&quot;nav-title&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">className</span>=<span class="string">&quot;nav-title-text&quot;</span>&gt;</span>评论<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      &#123;/* 评论数量 */&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">className</span>=<span class="string">&quot;total-reply&quot;</span>&gt;</span>&#123;10&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    &#123;/* 使用map进行列表数据遍历渲染 需要加上key */&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">className</span>=<span class="string">&quot;nav-sort&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      &#123;tabs.map(item =&gt;(</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">className</span>=<span class="string">&#x27;nav-item&#x27;</span> <span class="attr">key</span>=<span class="string">&#123;item.type&#125;</span>&gt;</span>&#123;item.text&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      ))&#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>tab切换功能，点击谁就把谁的type记录下来，然后在map遍历渲染时增加条件匹配</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [<span class="title class_">TabType</span>, setTabType] = <span class="title function_">useState</span>(<span class="string">&#x27;hot&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleTypeChange</span> = (<span class="params">type</span>)=&gt;&#123;</span><br><span class="line">    <span class="title function_">setTabType</span>(type)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="comment">/* 使用map进行列表数据遍历渲染 需要加上key */</span>&#125;</span><br><span class="line">&lt;li className=<span class="string">&quot;nav-sort&quot;</span>&gt;</span><br><span class="line">  &#123;tabs.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span>(</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">span</span> </span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    // <span class="attr">模板字符串是一种在</span> <span class="attr">JavaScript</span>（<span class="attr">以及其他一些编程语言</span>）<span class="attr">中用于更方便地处理字符串的语法</span>。</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    // <span class="attr">它使用反引号</span>（`）<span class="attr">来包裹字符串内容</span>，<span class="attr">而不是单引号</span>（&#x27;）<span class="attr">或双引号</span>（&quot;）</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    //  $&#123;&#125;<span class="attr">是一个模板占位符</span>，<span class="attr">它会被里面的值所替换</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">className</span>=<span class="string">&#123;</span>`<span class="attr">nav-item</span> $&#123;<span class="attr">TabType</span> === <span class="string">item.type</span> &amp;&amp; &#x27;<span class="attr">active</span>&#x27;&#125;`&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">key</span>=<span class="string">&#123;item.type&#125;</span> </span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">onClick</span>=<span class="string">&#123;()</span>=&gt;</span>handleTypeChange(item.type)&#125;&gt;</span></span><br><span class="line"><span class="language-xml">    &#123;item.text&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">  ))&#125;</span><br><span class="line"></span><br><span class="line">&lt;/li&gt;</span><br></pre></td></tr></table></figure>

<h2 id="评论排序功能"><a href="#评论排序功能" class="headerlink" title="评论排序功能"></a>评论排序功能</h2><p>需求：</p>
<p>点击最新，评论列表按照创建事件倒序排列（新的在前），点击最热按照点赞数排序（多的在前）</p>
<p>核心思路：</p>
<p><font color="yellow">把评论列表状态数据进行不同的排序处理，当成新值传给set函数重新渲染视图UI</font></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">handleTypeChange</span> = (<span class="params">type</span>)=&gt;&#123;</span><br><span class="line">    <span class="title function_">setTabType</span>(type)</span><br><span class="line">    <span class="keyword">if</span> (type === <span class="string">&#x27;hot&#x27;</span>)<span class="title function_">setContentList</span>(lodash_.<span class="title function_">orderBy</span>(commentList,<span class="string">&#x27;like&#x27;</span>,<span class="string">&#x27;desc&#x27;</span>))</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">&#x27;time&#x27;</span>)<span class="title function_">setContentList</span>(lodash_.<span class="title function_">orderBy</span>(commentList,<span class="string">&#x27;ctime&#x27;</span>,<span class="string">&#x27;desc&#x27;</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用了一个三方库lodash进行排序 orderBy( 列表 , 字段 , 排序方式 )</p>
<h2 id="classnames优化类名控制"><a href="#classnames优化类名控制" class="headerlink" title="classnames优化类名控制"></a>classnames优化类名控制</h2><p>classnames是一个简单的JS库，可以非常方便地通过<font color="yellow">条件动态控制class类名的显示</font></p>


<p>这里的class类名是通过字符串的拼接而成，不够直观，并且容易出错。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install classnames</span><br></pre></td></tr></table></figure>



<h1 id="Day2"><a href="#Day2" class="headerlink" title="Day2"></a>Day2</h1><h2 id="受控表单绑定"><a href="#受控表单绑定" class="headerlink" title="受控表单绑定"></a>受控表单绑定</h2><p>使用React组件的状态（useState）控制表单的状态</p>


<ul>
<li>准备一个React状态值</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [value1,setValue1] = <span class="title function_">useState</span>(<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>通过value属性绑定状态，通过onChange属性绑定状态同步的函数</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;value1&#125;</span><br><span class="line">&lt;input value=&#123;value1&#125; onChange=&#123;<span class="function">(<span class="params">e</span>)=&gt;</span><span class="title function_">setValue1</span>(e.<span class="property">target</span>.<span class="property">value</span>)&#125; type=<span class="string">&#x27;text&#x27;</span>&gt;</span><br><span class="line">&lt;/input&gt;</span><br></pre></td></tr></table></figure>

<h2 id="React中获取Dom"><a href="#React中获取Dom" class="headerlink" title="React中获取Dom"></a>React中获取Dom</h2><p>在React组件中获取&#x2F;操作DOM，需要使用useRef hook函数，分为两步：</p>
<ul>
<li>使用useRef创建ref对象，并与JSX绑定</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// useRef生成ref对象，绑定到dom标签身上</span></span><br><span class="line">  <span class="keyword">const</span> inputRef = <span class="title function_">useRef</span>(<span class="literal">null</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="comment">/* 使用ref绑定 */</span>&#125;</span><br><span class="line">&lt;input ref=&#123;inputRef&#125; value=<span class="string">&quot;sza&quot;</span>&gt;&lt;/input&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>在dom可用时，通过.current获取dom对象</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">onShow</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">  <span class="comment">// dom可用时，ref.current获取dom</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(inputRef.<span class="property">current</span>.<span class="property">value</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="comment">/* 点击会打印sza的字样 */</span>&#125;</span><br><span class="line">&lt;button onClick=&#123;onShow&#125;&gt;打印dom&lt;/button&gt;</span><br></pre></td></tr></table></figure>

<h2 id="B站评论-发表评论"><a href="#B站评论-发表评论" class="headerlink" title="B站评论 发表评论"></a>B站评论 发表评论</h2>

<p>获取评论内容：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个将要发布的评论 content1</span></span><br><span class="line">  <span class="keyword">const</span> [content1,setContent1] = <span class="title function_">useState</span>(<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;textarea</span><br><span class="line">  value=&#123;content1&#125;</span><br><span class="line">  <span class="comment">// ref=&#123;textareaRef&#125;</span></span><br><span class="line">  onChange=&#123;<span class="function">(<span class="params">e</span>) =&gt;</span> <span class="title function_">setContent1</span>(e.<span class="property">target</span>.<span class="property">value</span>)&#125;</span><br><span class="line">  className=<span class="string">&quot;reply-box-textarea&quot;</span></span><br><span class="line">  placeholder=<span class="string">&quot;发一条友善的评论&quot;</span></span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>

<p>点击发布按钮发布评论：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div className=<span class="string">&quot;reply-box-send&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;send-text&quot;</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> handleClickPublish()&#125;&gt;发布<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个将要发布的评论 content1</span></span><br><span class="line">  <span class="keyword">const</span> [content1,setContent1] = <span class="title function_">useState</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 发布评论 这里抄一份之前的评论结构</span></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">handleClickPublish</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    <span class="title function_">setContentList</span>([...commentList,  &#123;</span><br><span class="line">      <span class="attr">rpid</span>: <span class="number">10086</span>,</span><br><span class="line">      <span class="attr">user</span>: &#123;</span><br><span class="line">        <span class="attr">uid</span>: <span class="string">&#x27;30009257&#x27;</span>,</span><br><span class="line">        <span class="attr">avatar</span>:avatar1,</span><br><span class="line">        <span class="attr">uname</span>: <span class="string">&#x27;前端&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">content</span>: content1,</span><br><span class="line">      <span class="attr">ctime</span>: <span class="string">&#x27;10-19 09:00&#x27;</span>,</span><br><span class="line">      <span class="attr">like</span>: <span class="number">667</span>,</span><br><span class="line">    &#125;,])</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h2 id="独一id和时间处理"><a href="#独一id和时间处理" class="headerlink" title="独一id和时间处理"></a>独一id和时间处理</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">rpid</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">user</span>: &#123;</span><br><span class="line">    <span class="attr">uid</span>: <span class="string">&#x27;30009257&#x27;</span>,</span><br><span class="line">    <span class="attr">avatar</span>:avatar1,</span><br><span class="line">    <span class="attr">uname</span>: <span class="string">&#x27;前端&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">content</span>: <span class="string">&#x27;学前端就&#x27;</span>,</span><br><span class="line">  <span class="attr">ctime</span>: <span class="string">&#x27;10-19 09:00&#x27;</span>,</span><br><span class="line">  <span class="attr">like</span>: <span class="number">66</span>,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>评论的信息 的rpid和cime应该重新设置，分别使用uuid和dayjs</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;v4 <span class="keyword">as</span> uuidV4&#125; <span class="keyword">from</span> <span class="string">&#x27;uuid&#x27;</span></span><br><span class="line"><span class="keyword">import</span> dayjs <span class="keyword">from</span> <span class="string">&#x27;dayjs&#x27;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 发布评论 这里抄一份之前的评论结构</span></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">handleClickPublish</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    <span class="title function_">setContentList</span>([...commentList,  </span><br><span class="line">      &#123;</span><br><span class="line">      <span class="attr">rpid</span>: <span class="number">10086</span>,</span><br><span class="line">      <span class="attr">user</span>: &#123;</span><br><span class="line">        <span class="attr">uid</span>: <span class="title function_">uuidV4</span>(),</span><br><span class="line">        <span class="attr">avatar</span>:avatar1,</span><br><span class="line">        <span class="attr">uname</span>: <span class="string">&#x27;前端&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">content</span>: content1,</span><br><span class="line">      <span class="attr">ctime</span>: <span class="title function_">dayjs</span>(<span class="keyword">new</span> <span class="title class_">Date</span>()).<span class="title function_">format</span>(<span class="string">&#x27;MM-DD hh:mm&#x27;</span>),</span><br><span class="line">      <span class="attr">like</span>: <span class="number">667</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  ])</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h2 id="b站评论案例-清空内容并重新聚焦"><a href="#b站评论案例-清空内容并重新聚焦" class="headerlink" title="b站评论案例 清空内容并重新聚焦"></a>b站评论案例 清空内容并重新聚焦</h2><ul>
<li>清空内容，将input框的value属性设为空字符串</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 发布评论 这里抄一份之前的评论结构</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleClickPublish</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">  <span class="title function_">setContentList</span>([...commentList,  </span><br><span class="line">    &#123;</span><br><span class="line">    <span class="attr">rpid</span>: <span class="number">10086</span>,</span><br><span class="line">    <span class="attr">user</span>: &#123;</span><br><span class="line">      <span class="attr">uid</span>: <span class="title function_">uuidv4</span>(),<span class="comment">// 随机id</span></span><br><span class="line">      <span class="attr">avatar</span>:avatar1,</span><br><span class="line">      <span class="attr">uname</span>: <span class="string">&#x27;前端&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">content</span>: content1,</span><br><span class="line">    <span class="attr">ctime</span>: <span class="title function_">dayjs</span>(<span class="keyword">new</span> <span class="title class_">Date</span>()).<span class="title function_">format</span>(<span class="string">&#x27;MM-DD hh:mm&#x27;</span>),</span><br><span class="line">    <span class="attr">like</span>: <span class="number">667</span>,</span><br><span class="line">  &#125;</span><br><span class="line">])</span><br><span class="line">  <span class="title function_">setContent1</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li>重新聚焦：拿到input的dom元素，调用focus方法</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> textareaRef = <span class="title function_">useRef</span>(<span class="literal">null</span>)</span><br><span class="line"><span class="comment">// 发布评论 这里抄一份之前的评论结构</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleClickPublish</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">  <span class="title function_">setContentList</span>([...commentList,  </span><br><span class="line">    &#123;</span><br><span class="line">    <span class="attr">rpid</span>: <span class="number">10086</span>,</span><br><span class="line">    <span class="attr">user</span>: &#123;</span><br><span class="line">      <span class="attr">uid</span>: <span class="title function_">uuidv4</span>(),<span class="comment">// 随机id</span></span><br><span class="line">      <span class="attr">avatar</span>:avatar1,</span><br><span class="line">      <span class="attr">uname</span>: <span class="string">&#x27;前端&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">content</span>: content1,</span><br><span class="line">    <span class="attr">ctime</span>: <span class="title function_">dayjs</span>(<span class="keyword">new</span> <span class="title class_">Date</span>()).<span class="title function_">format</span>(<span class="string">&#x27;MM-DD hh:mm&#x27;</span>),</span><br><span class="line">    <span class="attr">like</span>: <span class="number">667</span>,</span><br><span class="line">  &#125;</span><br><span class="line">])</span><br><span class="line">  <span class="title function_">setContent1</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">  <span class="comment">// 先使用 ref绑定 聚焦</span></span><br><span class="line">  textareaRef.<span class="property">current</span>.<span class="title function_">focus</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="父子通信-父传子-父组件传参给子组件"><a href="#父子通信-父传子-父组件传参给子组件" class="headerlink" title="父子通信 父传子 父组件传参给子组件"></a>父子通信 父传子 父组件传参给子组件</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父传子</span></span><br><span class="line"><span class="comment">// 1. 父组件传递数据 自组件标签身上绑定属性</span></span><br><span class="line"><span class="comment">// 2. 自组件接受数据 props的参数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span>(<span class="params">props</span>)&#123;</span><br><span class="line">    <span class="comment">// props：对象里面包含了父组件中传递过来的所有数据</span></span><br><span class="line">    </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(props);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span>   <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>this is Son &#123;props.fuck&#125;-----&#123;props.a&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App2</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> var1 = <span class="string">&quot;this is father variable&quot;</span></span><br><span class="line">    <span class="keyword">const</span> var2 = <span class="string">&quot;this is father variable2&quot;</span></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">Son</span> <span class="attr">name</span>=<span class="string">&#123;var1&#125;</span> <span class="attr">a</span>=<span class="string">&#123;var2&#125;/</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App2</span></span><br></pre></td></tr></table></figure>

<p>传过来的props Object</p>


<ul>
<li>props可传递任意的数据：数字、字符串、布尔值、数组、对象、函数、JSX</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">App2</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> var1 = <span class="string">&quot;this is father variable&quot;</span></span><br><span class="line">    <span class="keyword">const</span> var2 = <span class="string">&quot;this is father variable2&quot;</span></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">Son</span> </span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">name</span>=<span class="string">&#123;var1&#125;</span> </span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">a</span>=<span class="string">&#123;var2&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">isTrue</span>=<span class="string">&#123;false&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">list</span>=<span class="string">&#123;[</span>&#x27;<span class="attr">Vue</span>&#x27;,&#x27;<span class="attr">React</span>&#x27;]&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">obj</span>=<span class="string">&#123;&#123;name:</span>&#x27;<span class="attr">sza</span>&#x27;&#125;&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">cb</span>=<span class="string">&#123;()</span>=&gt;</span>&#123;console.log(&#x27;something else&#x27;)&#125;&#125;</span></span><br><span class="line"><span class="language-xml">            children = &#123;<span class="tag">&lt;<span class="name">span</span>&gt;</span>what?<span class="tag">&lt;/<span class="name">span</span>&gt;</span>&#125;</span></span><br><span class="line"><span class="language-xml">            /&gt;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App2</span></span><br></pre></td></tr></table></figure>



<ul>
<li>props是只读对象</li>
</ul>
<p>子组件<font color="yellow">只能读取props中的数据，不能直接进行修改</font>，父组件的数据只能由父组件修改</p>
<p>特殊的prop children</p>
<p>场景：当我们把内容嵌套在自组件标签当中时，父组件会自动在名为children的prop属性中接受改内容</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父传子</span></span><br><span class="line"><span class="comment">// 1. 父组件传递数据 自组件标签身上绑定属性</span></span><br><span class="line"><span class="comment">// 2. 自组件接受数据 props的参数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span>(<span class="params">props</span>)&#123;</span><br><span class="line">    <span class="comment">// props：对象里面包含了父组件中传递过来的所有数据</span></span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(props);</span><br><span class="line">    <span class="comment">//  默认都是children </span></span><br><span class="line">    <span class="keyword">return</span>   <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>this is Son &#123;props.children[0]&#125; ----  &#123;props.children[1]&#125; ----  &#123;props.children[2]&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App2</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> var1 = <span class="string">&quot;this is father variable1&quot;</span></span><br><span class="line">    <span class="keyword">const</span> var2 = <span class="string">&quot;this is father variable2&quot;</span></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">Son</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                &#123;var1&#125;</span></span><br><span class="line"><span class="language-xml">                &#123;var2&#125;</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">span</span>&gt;</span> this is span 3<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">Son</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App2</span></span><br></pre></td></tr></table></figure>



<h2 id="父子通信-子传父"><a href="#父子通信-子传父" class="headerlink" title="父子通信 子传父"></a>父子通信 子传父</h2>
<p>核心思路是：在子组件中调用父组件中的函数并传递参数</p>


<p>子组件调用父组件传的带参函数，子组件在赋值参数的时候，就会传递给了父组件的函数，相当于是子传父</p>
<ul>
<li>在返回的 JSX 结构中，包含一个文本内容 “this is son” 和一个按钮。当按钮被点击时，会调用 <code>onGetMsg</code> 函数并将 <code>sonMsg</code> 作为参数传递给父组件。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父传子</span></span><br><span class="line"><span class="comment">// 1. 父组件传递数据 自组件标签身上绑定属性</span></span><br><span class="line"><span class="comment">// 2. 自组件接受数据 props的参数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span>(<span class="params">props</span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> sonMsg = <span class="string">&#x27;this is son msg&#x27;</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span>  (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        this is son</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span>=&gt;</span>props.onGetMsg(sonMsg)&#125;&gt;send<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App2</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">getMsg</span> = (<span class="params">msg</span>) =&gt;&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(msg)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">Son</span> <span class="attr">onGetMsg</span>=<span class="string">&#123;getMsg&#125;/</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App2</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父传子</span></span><br><span class="line"><span class="comment">// 1. 父组件传递数据 自组件标签身上绑定属性</span></span><br><span class="line"><span class="comment">// 2. 自组件接受数据 props的参数</span></span><br><span class="line"><span class="comment">// // 接收一个名为 onGetMsg 的属性，该属性是一个函数，用于将子组件的数据传递给父组件</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span>(<span class="params">&#123;onGetMsg&#125;</span>)&#123;<span class="comment">// onGetMsg必须与&lt;Son onGetMsg=&#123;getMsg&#125;/&gt;这里的属性一致</span></span><br><span class="line">    <span class="keyword">const</span> sonMsg = <span class="string">&#x27;this is son msg&#x27;</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span>  (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        this is son</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span>=&gt;</span>onGetMsg(sonMsg)&#125;&gt;send<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App2</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">getMsg</span> = (<span class="params">msg</span>) =&gt;&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(msg)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">Son</span> <span class="attr">onGetMsg</span>=<span class="string">&#123;getMsg&#125;/</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App2</span></span><br></pre></td></tr></table></figure>

<h2 id="使用状态提升实现兄弟组件通信"><a href="#使用状态提升实现兄弟组件通信" class="headerlink" title="使用状态提升实现兄弟组件通信"></a>使用状态提升实现兄弟组件通信</h2>

<p>借助父组件进行兄弟组件之间的数据传递</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; useState &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 接收一个名为 onGetMsg 的属性，该属性是一个函数，用于将子组件的数据传递给父组件</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son1</span>(<span class="params">&#123;onGetMsg&#125;</span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> sonMsg = <span class="string">&#x27;this is son1 msg&#x27;</span> <span class="comment">// son1 要传递的数据</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span>  (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span>=&gt;</span>onGetMsg(sonMsg)&#125;&gt;send<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son2</span>(<span class="params">props</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;props.msg2&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App2</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> [msg_,setMsg_] = <span class="title function_">useState</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">getMsg</span> = (<span class="params">msg</span>) =&gt;&#123;</span><br><span class="line">        <span class="title function_">setMsg_</span>(msg) <span class="comment">// son1传来的数据 到了父节点这里使用useState的set 改变该值传给子组件son2</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">Son1</span> <span class="attr">onGetMsg</span>=<span class="string">&#123;getMsg&#125;/</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">Son2</span> <span class="attr">msg2</span>=<span class="string">&#123;msg_&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">Son2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App2</span></span><br></pre></td></tr></table></figure>

<h2 id="使用Context机制跨层级组件通信"><a href="#使用Context机制跨层级组件通信" class="headerlink" title="使用Context机制跨层级组件通信"></a>使用Context机制跨层级组件通信</h2>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父传子</span></span><br><span class="line"><span class="comment">// 1. 父组件传递数据 自组件标签身上绑定属性</span></span><br><span class="line"><span class="comment">// 2. 自组件接受数据 props的参数</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; createContext, useContext, useState &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. createContext方法创建一个上下文对象</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Ctx</span> = <span class="title function_">createContext</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son1</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span>  (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Son2</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son2</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">// 3. 在底层组件 通过useContest钩子函数使用数据 参数为createContext方法创造的上下文对象</span></span><br><span class="line">    <span class="keyword">const</span> msg = <span class="title function_">useContext</span>(<span class="title class_">Ctx</span>) </span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;msg&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App2</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> app2Msg = <span class="string">&#x27;顶层msg&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123;/* 2.在顶层组件 通过Provider组件提供数据 */&#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">Ctx.Provider</span> <span class="attr">value</span>=<span class="string">&#123;app2Msg&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">Son1</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">Ctx.Provider</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"> </span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App2</span></span><br></pre></td></tr></table></figure>

<p>这里的顶层和底层其实是相对的概念，只要存在嵌套的机制就可以用Context，比如父子</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父传子</span></span><br><span class="line"><span class="comment">// 1. 父组件传递数据 自组件标签身上绑定属性</span></span><br><span class="line"><span class="comment">// 2. 自组件接受数据 props的参数</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; createContext, useContext, useState &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. createContext方法创建一个上下文对象</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Ctx</span> = <span class="title function_">createContext</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son1</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">// 父子也是顶层和底层 都可以用Context</span></span><br><span class="line">    <span class="keyword">const</span> msg = <span class="title function_">useContext</span>(<span class="title class_">Ctx</span>)</span><br><span class="line">    <span class="keyword">return</span>  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;msg&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son2</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">// 3. 在底层组件 通过useContest钩子函数使用数据 参数为createContext方法创造的上下文对象</span></span><br><span class="line">    <span class="keyword">const</span> msg = <span class="title function_">useContext</span>(<span class="title class_">Ctx</span>) </span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;msg&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App2</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> app2Msg = <span class="string">&#x27;顶层msg&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123;/* 2.在顶层组件 通过Provider组件提供数据 */&#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">Ctx.Provider</span> <span class="attr">value</span>=<span class="string">&#123;app2Msg&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">Son1</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">Son2</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">Ctx.Provider</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"> </span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App2</span></span><br></pre></td></tr></table></figure>

<h2 id="useEffect概念理解"><a href="#useEffect概念理解" class="headerlink" title="useEffect概念理解"></a>useEffect概念理解</h2><p>useEffect是一个React Hook函数，用于在React组件中创建不是由事件（点击、滑动等）引起而是<font color="yellow">由渲染本身引起的操作</font>（发送ajax请求、更改dom等）。</p>


<p>说明：上面的组件中没有发生任何的用户事件，<font color="yellow">组件渲染完毕之后</font>就需要和服务器要数据，整个过程属于<font color="yellow">“只由渲染引起的操作”</font>。</p>
<p>需求：在组件渲染完毕后，立刻从服务端获取频道列表数据并显示到页面中</p>
<p>语法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">useEffect</span>( <span class="function">()=&gt;</span>&#123;&#125; , [] )</span><br></pre></td></tr></table></figure>

<p>参数1 是一个函数，可以把它称为副作用函数，在函数内部可以放置要执行的操作</p>
<p>参数2 是一个数组，在数组里放置依赖项，不同依赖项会影响第一个参数函数的执行，<font color="yellow">当是一个空数组时，副作用函数只会在组件渲染完毕后执行一次</font></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useEffect, useState &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> url = <span class="string">&#x27;http://geek.itheima.net/v1_0/channels&#x27;</span> <span class="comment">// 获取服务端数据的api</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App3</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> [list,setList] = <span class="title function_">useState</span>([])</span><br><span class="line">    <span class="title function_">useEffect</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getList</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="comment">// 当使用fetch进行网络请求时，这个请求是异步发送的。</span></span><br><span class="line">          <span class="comment">// 程序不会等待请求返回结果才继续执行其他代码。</span></span><br><span class="line">            <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">fetch</span>(url)</span><br><span class="line">            <span class="keyword">const</span> jsonRes = <span class="keyword">await</span> res.<span class="title function_">json</span>()</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(jsonRes)</span><br><span class="line">            <span class="title function_">setList</span>(jsonRes.<span class="property">data</span>.<span class="property">channels</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">getList</span>()</span><br><span class="line">    &#125;,[])</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                &#123;list.map(item =&gt; <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;item.id&#125;</span>&gt;</span>&#123;item.name&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span>)&#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App3</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://sza0415.github.io">Ziang Sun</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://sza0415.github.io/react-guide/">https://sza0415.github.io/react-guide/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-share"><div class="social-share" data-image="/img/image1.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/ARFoundationLearning/" title="ARFoundation学习"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">ARFoundation学习</div></div><div class="info-2"><div class="info-item-1">About ARFoundationARSessionAn AR scene should include an ARSession component. The AR Session controls the lifecycle of an AR experience, enabling or disabling AR on the target platform. The ARSession can be on any GameObject An AR scene should include an ARSession component. The AR Session controls the lifecycle of an AR experience, enabling or disabling AR on the target platform. The ARSession can be on any GameObject ARSessionOriginThe purpose of the ARSessionOrigin is to transform...</div></div></div></a><a class="pagination-related" href="/%E5%89%8D%E7%AB%AF%E5%85%A5%E9%97%A8/" title="前端入门"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">前端入门</div></div><div class="info-2"><div class="info-item-1">  HTMLHTML 全称 Hypertext Markup Lanuage 超文本标记语言XML的标签可以由自己定义，而HTML的标签都是预定义好的 HTML代码直接在浏览器中运行，HTML标签由浏览器解析 HTML 的作用是为网页提供结构，它告诉浏览器哪些部分是标题，哪些部分是段落，哪些是列表…… HTML通过一系列的标签（也称为元素）来定义文本、图像、链接等等。HTML标签可以通过属性来提供更多的信息。 HTML标签是由尖括号包围起来的关键字。 标签通常成对出现，包括开始标签和结束标签（也称为双标签），内容位于这两个标签之间，例如： 123&lt;p&gt;这是一个段落&lt;/p&gt;&lt;h1&gt;这是一个标题&lt;/h1&gt;&lt;a href=&quot;www.baidu.com&quot;&gt;这是一个超链接&lt;/a&gt;  除了双标签，也存在单标签，顾名思义，单标签没有结束标签，例如input、换行、分割线标签： 123&lt;input type=&quot;text&quot;&gt;&lt;br&gt;...</div></div></div></a></nav><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comments</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/image1.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Ziang Sun</div><div class="author-info-description">直到有另一个人 能体会我的感觉</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">16</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">1</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/sza0415"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#JSX"><span class="toc-number">1.</span> <span class="toc-text">JSX</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#JSX%E5%AE%9E%E7%8E%B0%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93"><span class="toc-number">1.1.</span> <span class="toc-text">JSX实现列表渲染</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSX%E5%AE%9E%E7%8E%B0%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93"><span class="toc-number">1.2.</span> <span class="toc-text">JSX实现条件渲染</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#React%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A"><span class="toc-number">1.2.1.</span> <span class="toc-text">React事件绑定</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React%E7%BB%84%E4%BB%B6"><span class="toc-number">1.3.</span> <span class="toc-text">React组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#useState%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8"><span class="toc-number">1.4.</span> <span class="toc-text">useState基础使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E6%A0%B7%E5%BC%8F%E6%8E%A7%E5%88%B6"><span class="toc-number">1.5.</span> <span class="toc-text">基础样式控制</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Day1-%E8%AF%84%E8%AE%BA%E6%A1%88%E4%BE%8B"><span class="toc-number">2.</span> <span class="toc-text">Day1 评论案例</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B8%B2%E6%9F%93%E8%AF%84%E8%AE%BA%E5%88%97%E8%A1%A8"><span class="toc-number">2.1.</span> <span class="toc-text">渲染评论列表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E8%AF%84%E8%AE%BA%E5%88%A0%E9%99%A4"><span class="toc-number">2.2.</span> <span class="toc-text">实现评论删除</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B8%B2%E6%9F%93Tab-%E7%82%B9%E5%87%BB%E9%AB%98%E4%BA%AE%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.3.</span> <span class="toc-text">渲染Tab + 点击高亮实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%84%E8%AE%BA%E6%8E%92%E5%BA%8F%E5%8A%9F%E8%83%BD"><span class="toc-number">2.4.</span> <span class="toc-text">评论排序功能</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#classnames%E4%BC%98%E5%8C%96%E7%B1%BB%E5%90%8D%E6%8E%A7%E5%88%B6"><span class="toc-number">2.5.</span> <span class="toc-text">classnames优化类名控制</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Day2"><span class="toc-number">3.</span> <span class="toc-text">Day2</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%97%E6%8E%A7%E8%A1%A8%E5%8D%95%E7%BB%91%E5%AE%9A"><span class="toc-number">3.1.</span> <span class="toc-text">受控表单绑定</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React%E4%B8%AD%E8%8E%B7%E5%8F%96Dom"><span class="toc-number">3.2.</span> <span class="toc-text">React中获取Dom</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#B%E7%AB%99%E8%AF%84%E8%AE%BA-%E5%8F%91%E8%A1%A8%E8%AF%84%E8%AE%BA"><span class="toc-number">3.3.</span> <span class="toc-text">B站评论 发表评论</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8B%AC%E4%B8%80id%E5%92%8C%E6%97%B6%E9%97%B4%E5%A4%84%E7%90%86"><span class="toc-number">3.4.</span> <span class="toc-text">独一id和时间处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#b%E7%AB%99%E8%AF%84%E8%AE%BA%E6%A1%88%E4%BE%8B-%E6%B8%85%E7%A9%BA%E5%86%85%E5%AE%B9%E5%B9%B6%E9%87%8D%E6%96%B0%E8%81%9A%E7%84%A6"><span class="toc-number">3.5.</span> <span class="toc-text">b站评论案例 清空内容并重新聚焦</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%88%B6%E5%AD%90%E9%80%9A%E4%BF%A1-%E7%88%B6%E4%BC%A0%E5%AD%90-%E7%88%B6%E7%BB%84%E4%BB%B6%E4%BC%A0%E5%8F%82%E7%BB%99%E5%AD%90%E7%BB%84%E4%BB%B6"><span class="toc-number">3.6.</span> <span class="toc-text">父子通信 父传子 父组件传参给子组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%88%B6%E5%AD%90%E9%80%9A%E4%BF%A1-%E5%AD%90%E4%BC%A0%E7%88%B6"><span class="toc-number">3.7.</span> <span class="toc-text">父子通信 子传父</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%8A%B6%E6%80%81%E6%8F%90%E5%8D%87%E5%AE%9E%E7%8E%B0%E5%85%84%E5%BC%9F%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1"><span class="toc-number">3.8.</span> <span class="toc-text">使用状态提升实现兄弟组件通信</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Context%E6%9C%BA%E5%88%B6%E8%B7%A8%E5%B1%82%E7%BA%A7%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1"><span class="toc-number">3.9.</span> <span class="toc-text">使用Context机制跨层级组件通信</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#useEffect%E6%A6%82%E5%BF%B5%E7%90%86%E8%A7%A3"><span class="toc-number">3.10.</span> <span class="toc-text">useEffect概念理解</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/go%20package%20module%20work/" title="go package module work">go package module work</a><time datetime="2025-03-08T16:00:00.000Z" title="Created 2025-03-09 00:00:00">2025-03-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/GowebProgramming/" title="Untitled">Untitled</a><time datetime="2025-03-05T11:22:45.567Z" title="Created 2025-03-05 19:22:45">2025-03-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/Go%E8%AF%AD%E6%B3%95%EF%BC%9ARange%E7%9A%84%E4%BD%BF%E7%94%A8/" title="Go语法：range的使用">Go语法：range的使用</a><time datetime="2025-02-28T16:00:00.000Z" title="Created 2025-03-01 00:00:00">2025-03-01</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/Go%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/" title="go 语言学习">go 语言学习</a><time datetime="2025-02-28T16:00:00.000Z" title="Created 2025-03-01 00:00:00">2025-03-01</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/Go_Slices_usage_and_internals/" title="Go 切片：用法和内部机制">Go 切片：用法和内部机制</a><time datetime="2025-02-28T16:00:00.000Z" title="Created 2025-03-01 00:00:00">2025-03-01</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By Ziang Sun</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll to Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.isShuoshuo
  const option = {"language":"zh-CN","perPage":10,"distractionFreeMode":false,"createIssueManually":true}

  const commentCount = n => {
    const isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
    if (isCommentCount) {
      isCommentCount.textContent= n
    }
  }

  const initGitalk = (el, path) => {
    if (isShuoshuo) {
      window.shuoshuoComment.destroyGitalk = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }

    const gitalk = new Gitalk({
      clientID: 'Ov23li1nXnygRWmrL22n',
      clientSecret: 'fdcfbe11c7b66e8cbfe98aeb17100017159cb6d5',
      repo: 'sza0415.github.io',
      owner: 'sza0415',
      admin: ['sza0415'],
      updateCountCallback: commentCount,
      ...option,
      id: isShuoshuo ? path : (option && option.id) || '8113c508c2afb32ffc1ad3a36db54b2a'
    })

    gitalk.render('gitalk-container')
  }

  const loadGitalk = async(el, path) => {
    if (typeof Gitalk === 'function') initGitalk(el, path)
    else {
      await btf.getCSS('https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css')
      await btf.getScript('https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.js')
      initGitalk(el, path)
    }
  }

  if (isShuoshuo) {
    'Gitalk' === 'Gitalk'
      ? window.shuoshuoComment = { loadComment: loadGitalk }
      : window.loadOtherComment = loadGitalk
    return
  }

  if ('Gitalk' === 'Gitalk' || !false) {
    if (false) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
    else loadGitalk()
  } else {
    window.loadOtherComment = loadGitalk
  }
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>